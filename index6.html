<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <a href="index.html">parte 1</a>
    <a href="index2.html">parte 2</a>
    <a href="index3.html">parte 3</a>
    <a href="index4.html">parte 4</a>
    <a href="index5.html">parte 5</a>
    <a href="index6.html">parte 6</a>
    <a href="index7.html">parte 7</a>
    <a href="index8.html">parte 8</a>
    <a href="index9.html">parte 9</a>
    <a href="index10.html">parte 10</a>
    <a href="index11.html">parte 11</a>
    <a href="index12.html">parte 12</a>

    <h1>6</h1>
    <h2>Descripción de los servicios de almacenamiento de Azure</h2>

    <h2>Introducción</h2>

    <p>En este módulo, se le presentarán los servicios de Azure Storage. Obtendrá información sobre la cuenta de Azure Storage y cómo se relaciona con los distintos servicios de almacenamiento que hay disponibles. También descubrirá los niveles de almacenamiento de blobs, las opciones de redundancia de datos y las formas de mover datos o incluso infraestructuras completas a Azure.</p>

    <h3>Objetivos de aprendizaje</h3>

    <ul>
        <li>Comparación de los servicios de almacenamiento de Azure.</li>
        <li>Describir los niveles de almacenamiento.</li>
        <li>Describir las opciones de redundancia.</li>
        <li>Describir las opciones de la cuenta de almacenamiento y los tipos de almacenamiento.</li>
        <li>Identificar opciones para mover archivos, incluidos AzCopy, Explorador de Azure Storage y Azure File Sync.</li>
        <li>Descripción de las opciones de migración, incluidas Azure Migrate y Azure Data Box</li>
    </ul>

    <h2>Descripción de las cuentas de almacenamiento de Azure</h2>

    <p>En el vídeo siguiente se presentan los distintos servicios que deben estar disponibles con Azure Storage.</p>

    <a href="https://www.microsoft.com/es-es/videoplayer/embed/RE4MAbS?postJsllMsg=true&autoCaptions=es-es">video</a>

    <p>
        Una cuenta de almacenamiento proporciona un espacio de nombres único para los datos de Azure Storage al que se puede acceder desde cualquier lugar del mundo a través de HTTP o HTTPS. Los datos de esta cuenta son seguros, de alta disponibilidad, duraderos y escalables de forma masiva.

        Al crear la cuenta de almacenamiento, primero seleccionará el tipo de cuenta de almacenamiento. El tipo de cuenta determina los servicios de almacenamiento y las opciones de redundancia, y afecta a los casos de uso. A continuación se muestra una lista de opciones de redundancia que se describirán más adelante en este módulo:
    </p>

    <ul>
        <li>Almacenamiento con redundancia local (LRS)</li>
        <li>Almacenamiento con redundancia geográfica (GRS)</li>
        <li>Almacenamiento con redundancia geográfica con acceso de lectura (RA-GRS).</li>
        <li>Almacenamiento con redundancia de zona (ZRS)</li>
        <li>Almacenamiento con redundancia de zona geográfica (GZRS)</li>
        <li>Almacenamiento con redundancia de zona geográfica con acceso de lectura (RA-GZRS)</li>
    </ul>

    <table aria-label="Tabla 1" class="table" border="1px solid black">
        <thead>
        <tr>
        <th><strong>Tipo</strong></th>
        <th><strong>Servicios admitidos</strong></th>
        <th><strong>Opciones de redundancia</strong></th>
        <th><strong>Uso</strong></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td>De uso general estándar, v2</td>
        <td>Blob Storage (incluido Data&nbsp;Lake Storage), Queue Storage, Table Storage y Azure Files</td>
        <td>LRS, GRS, RA-GRS, ZRS, GZRS, RA-GZRS</td>
        <td>Tipo de cuenta de almacenamiento estándar para blobs, archivos, colas y tablas. Se recomienda para la mayoría de los escenarios con Azure Storage. Si desea compatibilidad con el sistema de archivos de red (NFS) en Azure Files, utilice el tipo de cuenta de recursos compartidos de archivos Premium.</td>
        </tr>
        <tr>
        <td>Blobs en bloques Premium</td>
        <td>Blob Storage (incluido Data&nbsp;Lake Storage)</td>
        <td>LRS, ZRS</td>
        <td>Tipo de cuenta de almacenamiento Prémium para blobs en bloques y blobs en anexos. Se recomiendan para escenarios con altas tasas de transacciones, que utilizan objetos más pequeños o que requieren una latencia de almacenamiento constantemente baja.</td>
        </tr>
        <tr>
        <td>Recursos compartidos de archivos Prémium</td>
        <td>Azure Files</td>
        <td>LRS, ZRS</td>
        <td>Tipo de cuenta de almacenamiento Prémium solo para recursos compartidos de archivos. Se recomienda para empresas y aplicaciones de escalado de alto rendimiento. Use este tipo de cuenta si desea una cuenta de almacenamiento que admita recursos compartidos de archivos de Bloque de mensajes del servidor (SMB) y NFS.</td>
        </tr>
        <tr>
        <td>Blobs en páginas Premium</td>
        <td>Solo blobs en páginas</td>
        <td>LRS</td>
        <td>Tipo de cuenta de almacenamiento prémium solo para blobs en páginas.</td>
        </tr>
        </tbody>
    </table>

    <h3>Puntos de conexión de cuenta de almacenamiento</h3>

    <p>
        Una de las ventajas de usar una cuenta de Azure Storage es tener un espacio de nombres único en Azure para los datos. Para ello, todas las cuentas de almacenamiento de Azure deben tener un nombre de cuenta único en Azure. La combinación del nombre de la cuenta y el punto de conexión del servicio de Azure Storage forma los puntos de conexión de su cuenta de almacenamiento.

        Cuando especifique un nombre para la cuenta de almacenamiento, tenga en cuenta estas reglas:
    </p>

    <ul>
        <li>Los nombres de las cuentas de almacenamiento deben tener entre 3 y 24 caracteres, y solo pueden incluir números y letras en minúscula.</li>
        <li>El nombre de la cuenta de almacenamiento debe ser único dentro de Azure. No puede haber dos cuentas de almacenamiento con el mismo nombre. Esto admite la capacidad de tener un espacio de nombres único y accesible en Azure.</li>
    </ul>

    <p>En la tabla siguiente se muestra el formato de punto de conexión para los servicios de Azure Storage.</p>
    <table aria-label="Puntos de conexión de cuenta de almacenamiento" class="table">
        <thead>
        <tr>
        <th><strong>Servicio de Storage</strong></th>
        <th><strong>Punto de conexión</strong></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td>Blob Storage</td>
        <td>https://&lt;storage-account-name&gt;.blob.core.windows.net</td>
        </tr>
        <tr>
        <td>Data Lake Storage Gen2</td>
        <td>https://&lt;storage-account-name&gt;.dfs.core.windows.net</td>
        </tr>
        <tr>
        <td>Azure Files</td>
        <td>https://&lt;storage-account-name&gt;.file.core.windows.net</td>
        </tr>
        <tr>
        <td>Queue Storage</td>
        <td>https://&lt;storage-account-name&gt;.queue.core.windows.net</td>
        </tr>
        <tr>
        <td>Table Storage</td>
        <td>https://&lt;storage-account-name&gt;.table.core.windows.net</td>
        </tr>
        </tbody>
    </table>

    <h2>Descripción de la redundancia de almacenamiento de Azure</h2>

    <p>
        Azure Storage siempre almacena varias copias de los datos, con el fin de protegerlos de eventos planeados y no planeados, lo que incluye errores transitorios del hardware, interrupciones del suministro eléctrico o cortes de la red, y desastres naturales. La redundancia garantiza que la cuenta de almacenamiento cumple sus objetivos de disponibilidad y durabilidad, aunque se produzcan errores.

        A la hora de decidir qué opción de redundancia es la más adecuada para su escenario, intente buscar un equilibrio entre bajo costo y alta disponibilidad. Entre los factores que ayudan a determinar qué opción de redundancia debe elegir se incluye:
    </p>

    <ul>
        <li>Cómo se replican los datos en la región primaria.</li>
        <li>Si los datos se replican en una segunda ubicación que está alejada geográficamente de la región primaria, para protegerse frente a desastres regionales.</li>
        <li>Si la aplicación necesita acceso de lectura a los datos replicados en la región secundaria en caso de que la región primaria deje de estar disponible.</li>
    </ul>

    <h3>Redundancia en la región primaria</h3>

    <p>
        Los datos de una cuenta de Azure Storage siempre se replican tres veces en la región primaria. Azure Storage ofrece dos opciones para replicar los datos en la región primaria, el almacenamiento con redundancia local (LRS) y el almacenamiento con redundancia de zona (ZRS).
    </p>

    <h3>Almacenamiento con redundancia local</h3>
    <p>
        El almacenamiento con redundancia local (LRS) replica los datos tres veces dentro de un único centro de datos en la región primaria. LRS ofrece una durabilidad mínima de 11 nueves (99,999999999 %) de los objetos en un año determinado.
    </p>

    <img src="./img/6/1.png" alt="" style="width: 30%;">

    <p>
        LRS es la opción de redundancia de costo más bajo y ofrece la menor durabilidad en comparación con otras opciones. LRS protege los datos frente a errores en la estantería de servidores y en la unidad. No obstante, si se produce un desastre como un incendio o una inundación en el centro de datos, es posible que todas las réplicas de una cuenta de almacenamiento con LRS se pierdan o no se puedan recuperar. Para mitigar este riesgo, Microsoft recomienda el uso del almacenamiento con redundancia de zona (ZRS), el almacenamiento con redundancia geográfica (GRS) o el almacenamiento con redundancia de zona geográfica (GZRS).
    </p>

    <h3>Almacenamiento con redundancia de zona</h3>
    <p>
        Para las regiones con zona de disponibilidad habilitada, el almacenamiento con redundancia de zona (ZRS) replica los datos de Azure Storage sincrónicamente en tres zonas de disponibilidad de Azure en la región primaria. ZRS proporciona a los objetos de datos de Azure Storage una durabilidad de al menos 12 nueves (99,9999999999 %) durante un año determinado.
    </p>

    <img src="./img/6/2.png" alt="" style="width: 30%;">

    <p>
        Con ZRS, los datos son accesibles para las operaciones de escritura y lectura incluso si una zona deja de estar disponible. No es necesario volver a montar los recursos compartidos de archivos de Azure de los clientes conectados. Si alguna zona deja de estar disponible, Azure realiza las actualizaciones de la red, como el redireccionamiento de DNS. Estas actualizaciones pueden afectar a la aplicación si se accede a los datos antes de que se completen dichas actualizaciones.

        Microsoft recomienda usar ZRS en la región primaria para escenarios que requieren de alta disponibilidad. También se recomienda ZRS para restringir la replicación de datos dentro de un país o región para cumplir los requisitos de gobernanza de datos.
    </p>

    <h3>Redundancia en una región secundaria</h3>
    <p>
        En el caso de las aplicaciones que requieren de alta durabilidad, puede optar por copiar los datos de la cuenta de almacenamiento en una región secundaria que esté a cientos de kilómetros de distancia de la región primaria. Si los datos de la cuenta de almacenamiento se copian en una región secundaria, los datos serán duraderos incluso en caso de un error catastrófico que impida que se recuperen los datos de la región primaria.

        Al crear una cuenta de almacenamiento, seleccione la región principal de la cuenta. La región secundaria emparejada se determina en función de los Pares de regiones de Azure y no se puede cambiar.

        Azure Storage ofrece dos opciones para copiar los datos en una región secundaria: almacenamiento con redundancia geográfica (GRS) y almacenamiento con redundancia de zona geográfica (GZRS). GRS es similar a ejecutar LRS en dos regiones, y GZRS es similar a ejecutar ZRS en la región primaria y LRS en la región secundaria.

        De manera predeterminada, los datos de la región secundaria no están disponibles para el acceso de lectura o escritura a menos que haya una conmutación por error a la región secundaria. Si la región primaria deja de estar disponible, puede conmutar por error a la región secundaria. Una vez completada la conmutación por error, la región secundaria se convierte en la región primaria y se pueden leer y escribir datos de nuevo.
    </p>

    <pre>
        Importante

        Dado que los datos se replican en la región secundaria de forma asincrónica, 
        un error que afecte a la región primaria puede producir la pérdida de datos si no se puede recuperar dicha región. 
        El intervalo entre las escrituras más recientes en la región primaria y la última escritura en 
        la región secundaria se conoce como objetivo de punto de recuperación (RPO). 
        El RPO indica momento concreto en que se pueden recuperar los datos. 
        Normalmente, Azure Storage tiene un RPO inferior a 15 minutos, aunque 
        actualmente no hay ningún contrato de nivel de servicio sobre el tiempo que se tarda en replicar los datos en la región secundaria.
    </pre>

    <h3>Almacenamiento con redundancia geográfica</h3>
    <p>
        GRS copia los datos de manera sincrónica tres veces dentro de una ubicación física única en la región primaria mediante LRS. Luego copia los datos de forma asincrónica en una única ubicación física en la región secundaria (el par de regiones) mediante LRS. GRS proporciona a los objetos de datos de Azure Storage una durabilidad de al menos 16 nueves (99,99999999999999 %) durante un año determinado.
    </p>
    <img src="./img/6/3.png" alt="" style="width: 30%;">

    <h3>Almacenamiento con redundancia de zona geográfica</h3>
    <p>
        GZRS combina la alta disponibilidad que proporciona la redundancia entre zonas de disponibilidad con la protección frente a interrupciones regionales que proporciona la replicación geográfica. Los datos de una cuenta de almacenamiento de GZRS se almacenan en tres zonas de disponibilidad de Azure en la región primaria (de manera similar a ZRS) y también se replican en una región geográfica secundaria para protegerlos frente a desastres regionales. Microsoft recomienda el uso de GZRS en aplicaciones que requieran de coherencia, durabilidad y disponibilidad máximas, además de rendimiento excelente y resistencia para la recuperación ante desastres.
    </p>

    <img src="./img/6/4.png" alt="" style="width: 30%;">

    <p>GZRS está diseñado para proporcionar una durabilidad mínima de 16 nueves (99,99999999999999 %) de los objetos en un año determinado.</p>

    <h3>Acceso de lectura a los datos de la región secundaria</h3>

    <p>
        El almacenamiento con redundancia geográfica (con GRS o GZRS) replica los datos en otra ubicación física de la región secundaria para protegerlos frente a los apagones regionales. Sin embargo, los datos están disponibles para su lectura solo si el cliente o Microsoft inician una conmutación por error de la región primaria a la secundaria. Sin embargo, si habilita el acceso de lectura a la región secundaria, los datos siempre están disponibles, incluso cuando la región primaria se ejecuta de forma óptima. Para obtener acceso de lectura a la región secundaria, habilite el almacenamiento con redundancia geográfica con acceso de lectura (RA-GRS) o el almacenamiento con redundancia de zona geográfica con acceso de lectura (RA-GZRS).
    </p>

    <pre>
        Importante

        Recuerde que es posible que los datos de la región secundaria no estén actualizados debido al RPO.
    </pre>
        
    <h2>Descripción de los servicios de almacenamiento de Azure</h2>

    <p>La plataforma de Azure Storage incluye los servicios de datos siguientes:</p>

    <ul>
        <li>Blobs de Azure: un almacén de objetos que se puede escalar de forma masiva para datos de texto y binarios. También incluye compatibilidad con el análisis de macrodatos a través de Data Lake Storage Gen2.</li>
        <li>Azure Files: recursos compartidos de archivos administrados para implementaciones locales y en la nube.</li>
        <li>Colas de Azure: un almacén de mensajería para mensajería confiable entre componentes de aplicación.</li>
        <li>Azure Disks: volúmenes de almacenamiento en el nivel de bloque para máquinas virtuales de Azure.</li>
        <li>Tablas de Azure: Opción tabla NoSQL para datos estructurados y no relacionales.</li>
    </ul>

    <h3>Ventajas de Azure Storage</h3>

    <ul>
        <li>Duradero y altamente disponible. La redundancia garantiza que los datos estén seguros en caso de producirse errores de hardware transitorios. También puede optar por replicar datos entre centros de datos o regiones geográficas para obtener protección adicional frente a catástrofes locales o desastres naturales. Los datos replicados de esta manera permanecen con una alta disponibilidad en caso de que se produzca una interrupción inesperada.</li>
        <li>Seguro. Todos los datos escritos en una cuenta de Azure Storage se cifran mediante el servicio. Azure Storage proporciona un control pormenorizado sobre quién tiene acceso a los datos.</li>
        <li>Escalable. Azure Storage está diseñado para poderse escalar de forma masiva para satisfacer las necesidades de rendimiento y almacenamiento de datos de las aplicaciones de hoy en día.</li>
        <li>Administrado. Azure controla automáticamente el mantenimiento, las actualizaciones y los problemas críticos del hardware.</li>
        <li>Accesible. Es posible acceder a los datos de Azure Storage desde cualquier parte del mundo a través de HTTP o HTTPS. Microsoft proporciona bibliotecas cliente para Azure Storage en diversos lenguajes, incluidos .NET, Java, Node.js, Python, PHP, Ruby, Go y otros, así como una API REST consolidada. Azure Storage admite la escritura en Azure PowerShell o la CLI de Azure. Y Azure Portal y el Explorador de Azure Storage ofrecen soluciones visuales sencillas para trabajar con los datos.       </li>
    </ul>

    <h3>Blobs de Azure</h3>
    <p>
        Azure Blob Storage es una solución de almacenamiento de objetos para la nube. Puede almacenar grandes cantidades de datos, como datos de texto o binarios. Azure Blob Storage no está estructurada, lo que significa que no hay ninguna restricción en cuanto a los tipos de datos que puede contener. Blob Storage puede administrar miles de cargas simultáneas, cantidades enormes de datos de vídeo, archivos de registro en constante crecimiento y es accesible desde cualquier lugar con conexión a Internet.

        Los blobs no están limitados a formatos de archivo comunes. Un blob podría contener gigabytes de datos binarios transmitidos desde un instrumento científico, un mensaje cifrado para otra aplicación o datos en un formato personalizado para una aplicación que se está desarrollando. Una ventaja del almacenamiento en blobs con respecto al almacenamiento en disco es que no requiere que los desarrolladores piensen en discos o los administren. Los datos se cargan como blobs y Azure se encarga de las necesidades de almacenamiento físico.

        Blob Storage resulta muy conveniente para lo siguiente:
    </p>

    <ul>
        <li>Visualización de imágenes o documentos directamente en un explorador.</li>
        <li>Almacenamiento de archivos para acceso distribuido.</li>
        <li>Streaming de audio y vídeo.</li>
        <li>Almacenamiento de datos para copia de seguridad y restauración, recuperación ante desastres y archivado.</li>
        <li>Almacenamiento de datos para el análisis en local o en un servicio hospedado de Azure.</li>
    </ul>

    <h3>Acceso a Blob Storage</h3>
    <p>
        Se puede acceder a los objetos de Blob Storage desde cualquier parte del mundo a través de HTTP o HTTPS. Los usuarios o las aplicaciones cliente pueden acceder a los blobs mediante direcciones URL, la API REST de Azure Storage, Azure PowerShell, la CLI de Azure o una biblioteca cliente de Azure Storage. Las bibliotecas de cliente de almacenamiento están disponibles para varios lenguajes, como .NET, Java, Node.js, Python, PHP y Ruby.
    </p>

    <h3>Niveles de Blob Storage</h3>

    <p>

        Los datos almacenados en la nube pueden crecer a un ritmo exponencial. Para administrar los costos de las crecientes necesidades de almacenamiento, resulta útil organizar los datos en función de atributos como la frecuencia de acceso y el período de retención planeada. Los datos almacenados en la nube se pueden controlar de forma distinta según la forma en que se generan, se procesan y se accede a ellos a lo largo de su vigencia. Se puede acceder y modificar ciertos datos de forma activa a lo largo de su duración. Se accede con frecuencia a ciertos datos al inicio de su vida útil hasta que el acceso cae drásticamente a medida que envejecen. Algunos datos permanecen inactivos en la nube y, después de que se almacenan, no se accede a ellos prácticamente nunca. Para dar cabida a estas diferentes necesidades de acceso, Azure proporciona varios niveles de acceso, que puede usar para equilibrar los costos de almacenamiento con sus necesidades de acceso.

        Azure Storage ofrece diferentes niveles de acceso para el almacenamiento de blobs, lo que le ayuda a almacenar datos de objetos de la manera más rentable. Entre los niveles de acceso disponibles se incluyen:
    </p>

    <ul>
        <li>Nivel de acceso frecuente: optimizado para almacenar datos a los que se accede con frecuencia (por ejemplo, imágenes para el sitio web).</li>
        <li>Nivel de acceso esporádico: optimizado para datos a los que se accede con poca frecuencia y que se almacenan al menos durante 30 días (por ejemplo, las facturas de los clientes).</li>
        <li>Nivel de acceso esporádico: está optimizado para almacenar datos a los que se accede con poca frecuencia y al menos durante 90 días.</li>
        <li>Nivel de acceso de archivo: conveniente para datos a los que raramente se accede y que se almacenan durante al menos 180 días con requisitos de latencia flexibles (por ejemplo, copias de seguridad a largo plazo).</li>
    </ul>

    <p>Las siguientes consideraciones se aplican a los distintos niveles de acceso:</p>

    <ul>
        <li>Los niveles de acceso frecuente y esporádico se pueden establecer en el nivel de cuenta. Los niveles de acceso esporádico y de archivo no están disponibles en el nivel de cuenta.</li>
        <li>Los niveles frecuente, esporádico, aislados y de archivo se pueden establecer en el nivel de blob durante la carga o después de esta.</li>
        <li>Los datos de los niveles de acceso esporádico y aislado pueden tolerar una disponibilidad ligeramente inferior, pero aun así requieren una gran durabilidad y latencia de recuperación, y unas características de rendimiento similares a las de los datos de acceso frecuente. En el caso de los datos de acceso esporádico y aislado, un contrato de nivel de servicio (SLA) con una disponibilidad ligeramente inferior y unos costes de acceso mayores, en comparación con los datos de acceso frecuente, es aceptable a cambio de unos costes de almacenamiento menores.</li>
        <li>El almacenamiento de archivo almacena datos sin conexión y ofrece los menores costos de almacenamiento, pero los mayores costos de acceso y rehidratación de datos.</li>
    </ul>

    <h3>Azure Files</h3>
    <p>
        El almacenamiento de Azure Files ofrece recursos compartidos de archivos totalmente administrados en la nube a los que se puede acceder mediante los protocolos Bloque de mensajes del servidor (SMB) o Sistema de archivos en red (NFS) estándar del sector. Los recursos compartido de archivos de Azure Files se pueden montar simultáneamente mediante implementaciones locales o en la nube. A los recursos compartidos de archivos SMB de Azure se puede acceder desde clientes Windows, Linux y macOS. A los recursos compartidos de archivos NFS de Azure Files se puede acceder desde clientes Linux y macOS. Además, los recursos compartidos de archivos SMB de Azure Files se pueden almacenar en la caché de los servidores de Windows Server con Azure File Sync, lo que permite un acceso rápido allí donde se utilizan los datos.
    </p>

    <h3>Ventajas clave de Azure Files:</h3>
    <ul>
        <li>Acceso compartido: los recursos compartidos de Azure Files admiten los protocolos SMB y NFS estándar del sector, lo que significa que puede reemplazar perfectamente los recursos compartidos de archivos en local por recursos compartidos de archivos de Azure sin preocuparse de compatibilidad de aplicaciones.</li>
        <li>Totalmente administrado: los recursos compartidos de Azure Files pueden crearse sin necesidad de administrar ni el hardware ni un sistema operativo. Esto significa que no tiene que tratar con la aplicación de actualizaciones de seguridad críticas en el sistema operativo del servidor ni ocuparse de reemplazar discos duros defectuosos.</li>
        <li>Scripts y herramientas: se pueden usar cmdlets de PowerShell y la CLI de Azure para crear, montar y administrar recursos compartidos de archivos de Azure como parte de la administración de las aplicaciones de Azure. Los recursos compartidos de archivos de Azure se pueden crear y administrar mediante Azure Portal y el Explorador de Azure Storage.</li>
        <li>Resistencia: Azure Files se creó desde sus orígenes para estar siempre disponible. Reemplazar los recursos compartidos de archivos en el entorno local por Azure Files significa que ya no tendrá que levantarse en mitad de la noche para tratar con problemas de red o interrupciones del suministro eléctrico local.</li>
        <li>Capacidad de programación intuitiva: las aplicaciones que se ejecutan en Azure pueden tener acceso a los datos en el recurso compartido mediante las API de E/S del sistema de archivos. Por tanto, los desarrolladores pueden aprovechar el código y los conocimientos que ya tienen para migrar las aplicaciones actuales. Además de las API de E/S del sistema, puede usar las Bibliotecas de cliente de Azure Storage o la API de REST de Azure Storage.</li>
    </ul>

    <h3>Colas de Azure</h3>

    <p>
        Azure Queue Storage es un servicio para almacenar grandes cantidades de mensajes, Una vez que están almacenados, se puede acceder a los mensajes desde cualquier lugar del mundo mediante llamadas autenticadas con HTTP o HTTPS. Una cola puede contener tantos mensajes como el espacio que tenga la cuenta de almacenamiento (pueden ser millones). Cada mensaje individual de la cola puede llegar a tener un tamaño máximo de 64 KB. Las colas se utilizan normalmente para crear un trabajo pendiente del trabajo que se va a procesar de forma asincrónica.

        Queue Storage se puede combinar con funciones de proceso como Azure Functions para realizar una acción cuando se recibe un mensaje. Por ejemplo, supongamos que quiere realizar una acción después de que un cliente cargue un formulario en el sitio web. Podría hacer que el botón enviar en el sitio web desencadene un mensaje en Queue Storage. Después, podría usar Azure Functions para desencadenar una acción una vez recibido el mensaje.
    </p>

    <h3>Azure Disks</h3>
    <p>
        El almacenamiento en Azure Disk o los discos administrados de Azure son volúmenes de almacenamiento de nivel de bloque que administra Azure para su uso con máquinas virtuales de Azure. Conceptualmente, son iguales que un disco físico, pero están virtualizados, lo que ofrece mayor resistencia y disponibilidad que un disco físico. Con los discos administrados, lo único que debe hacer es aprovisionar el disco; Azure se encargará del resto.
    </p>

    <h3>Tablas de Azure</h3>
    <p>
        Azure Table Storage permite almacenar una gran cantidad de datos estructurados. Las tablas de Azure son un almacén de datos NoSQL que acepta llamadas autenticadas desde dentro y fuera de la nube de Azure. Esto le permite usar tablas de Azure para compilar la solución híbrida o de varias nubes y hacer que los datos estén siempre disponibles. Las tablas de Azure son ideales para el almacenamiento de datos estructurados no relacionales.
    </p>

    <h2>Ejercicio: Creación de un blob de almacenamiento</h2>

    <h3>Crear una cuenta de almacenamiento</h3>
    <ol>
        <li>Inicie sesión en Azure Portal en https://portal.azure.com.</li>

        <li>Seleccione Crear un recurso.</li>
        
        <li>En Categorías, seleccione Almacenamiento.</li>
        
        <li>En Cuenta de almacenamiento, seleccione Crear.</li>
        
        <li>En la pestaña Aspectos básicos del panel Crear cuenta de almacenamiento, rellene la siguiente información. Deje los valores predeterminados para todo lo demás.</li>

        <table aria-label="Tabla 1" class="table">
            <thead>
            <tr>
            <th><strong>Configuración</strong></th>
            <th><strong>Valor</strong></th>
            </tr>
            </thead>
            <tbody>
            <tr>
            <td>Subscription</td>
            <td>Suscripción de Concierge</td>
            </tr>
            <tr>
            <td>Grupo de recursos</td>
            <td>Seleccione el grupo de recursos que comienza por <strong>learn</strong>.</td>
            </tr>
            <tr>
            <td>Nombre de la cuenta de almacenamiento</td>
            <td>Cree un nombre de cuenta de almacenamiento único</td>
            </tr>
            <tr>
            <td>Region</td>
            <td>Deje el valor predeterminado</td>
            </tr>
            <tr>
            <td>Rendimiento</td>
            <td>Estándar</td>
            </tr>
            <tr>
            <td>Redundancia</td>
            <td>Almacenamiento con redundancia local (LRS)</td>
            </tr>
            </tbody>
        </table>
    
        <li>En la pestaña Opciones avanzadas del panel Crear cuenta de almacenamiento, rellene la siguiente información. Deje los valores predeterminados para todo lo demás.</li>
    
        <p>Permitir la habilitación del acceso anónimo en contenedores individuales:Activada</p>
    
        <img src="./img/6/5.png" alt="" style="width: 30%;">
    
        <li>Seleccione Revisar para revisar la configuración de su cuenta de almacenamiento y permitir que Azure valide la configuración.</li>
    
        <li>Una vez validada, seleccione Crear. Espere la notificación de que la cuenta se creó correctamente.</li>
    
        <li>Haga clic en Go to resource (Ir al recurso).</li>
    </ol>

    <h3>Uso con Blob Storage</h3>

    <p>En esta sección, creará un contenedor de blobs y cargará una imagen.</p>

    <ol>
        <li>En Almacenamiento de datos, seleccione Contenedores.</li>

        <img src="./img/6/6.png" alt="" style="width: 30%;">

        <li>Seleccione + Contenedor y complete la información.</li>

        <table aria-label="Tabla 3" class="table">
            <thead>
            <tr>
            <th><strong>Configuración</strong></th>
            <th><strong>Valor</strong></th>
            </tr>
            </thead>
            <tbody>
            <tr>
            <td>Nombre</td>
            <td>Escriba un nombre para el contenedor.</td>
            </tr>
            <tr>
            <td>Nivel de acceso anónimo</td>
            <td>Privado (sin acceso anónimo)</td>
            </tr>
            </tbody>
        </table>

        <li>Seleccione Crear.</li>

        <pre>
            Nota

            El Paso 4 necesitará una imagen. Si quiere cargar una imagen que ya tiene en el equipo, 
            continúe con el Paso 4. De lo contrario, abra una nueva ventana del explorador y busque 
            la imagen de una flor en Bing. Guarde la imagen en el equipo.
        </pre>

        <li>De nuevo en Azure Portal, seleccione el contenedor que ha creado y luego Cargar.</li>

        <li>Explore el archivo de la imagen que quiere cargar. Selecciónelo y, luego, seleccione Cargar.</li>

        <pre>
            Nota

            Puede cargar tantos blobs como quiera de esta manera. 
            Los nuevos blobs se enumerarán dentro del contenedor.
        </pre>

        <li>Seleccione el blob (archivo) que acaba de cargar. Debe estar en la pestaña de propiedades.</li>

        <li>Copie la dirección URL del campo URL y péguela en una nueva pestaña.</li>

        <pre>
            Debe recibir un mensaje de error similar al siguiente:
            <Error>
                <Code>ResourceNotFound</Code>
                <Message>The specified resource does not exist. RequestId:4a4bd3d9-101e-005a-1a3e-84bd42000000</Message>
            </Error>
        </pre>

    </ol>

    <h3>Cambie el nivel de acceso del blob.</h3>

    <ol>
        <li>Vuelva a Azure Portal.</li>

        <li>Seleccione Cambiar nivel de acceso.</li>

        <li>Establezca el Nivel de acceso anónimo en Blob (acceso de lectura anónimo solo para blobs).</li>

        <img src="./img/6/7.png" alt="" style="width: 30%;">

        <li>Seleccione Aceptar.</li>

        <li>Actualice la pestaña en la que ha intentado acceder al archivo anteriormente.</li>

        <p>Enhorabuena, ha completado este ejercicio. Ha creado una cuenta de almacenamiento, ha agregado un contenedor a esta cuenta y, después, ha cargado blobs (archivos) en el contenedor. Luego ha cambiado el nivel de acceso para que pudiera acceder al archivo desde Internet.</p>
    </ol>

    <h3>Limpieza</h3>
    <p>
        El espacio aislado limpia los recursos automáticamente cuando haya terminado con este módulo.

        Al trabajar en una suscripción propia, se recomienda identificar al final de un proyecto si aún necesita los recursos creados. Los recursos que dejas en ejecución pueden costar dinero. Puede eliminar los recursos de forma individual o eliminar el grupo de recursos para eliminar todo el conjunto de recursos.
    </p>

    <h2>Identificación de las opciones de migración de datos de Azure</h2>

    <p>
        Ahora que comprende las distintas opciones de almacenamiento dentro de Azure, es importante comprender también cómo obtener los datos y la información en Azure. Azure admite la migración en tiempo real de la infraestructura, las aplicaciones y los datos mediante Azure Migrate, así como la migración asincrónica de datos mediante Azure Data Box.
    </p>

    <h3>Azure Migrate</h3>

    <p>Azure Migrate es un servicio que le ayuda a migrar desde un entorno local a la nube. Azure Migrate funciona como centro</p>

    <ol>
        <li>Plataforma de migración unificada: un único portal para iniciar, ejecutar y realizar un seguimiento de la migración a Azure.</li>
        <li>Rango de herramientas: Rango de herramientas para la evaluación y migración Las herramientas de Azure Migrate incluyen Azure Migrate: Discovery y assessment y Azure Migrate: Server Migration. Azure Migrate también se integra con otros servicios y herramientas de Azure, así como con ofertas de proveedores de software independientes (ISV).</li>
        <li>Assessment and migration (Evaluación y migración): en el centro de Azure Migrate, puede evaluar y migrar la infraestructura local a Azure.</li>
    </ol>

    <h3>Herramientas integradas</h3>
    <p>Además de trabajar con herramientas de ISV, el centro de Azure Migrate también incluye las siguientes herramientas para ayudar con la migración:</p>
    <ol>
        <li>Azure Migrate: Discovery and assessment (Azure Migrate: detección y evaluación). Detecte y evalúe servidores locales que se ejecutan en VMware, Hyper-V y servidores físicos para preparar la migración a Azure.</li>
        <li>Azure Migrate: Server Migration (Azure Migrate: migración del servidor). Migre máquinas virtuales de VMware, máquinas virtuales de Hyper-V, servidores físicos, otros servidores virtualizados y máquinas virtuales de la nube pública a Azure.</li>
        <li>Data Migration Assistant. Data Migration Assistant es una herramienta independiente para evaluar servidores de SQL Server. Ayuda a identificar posibles problemas que bloquean la migración. Identifica características no admitidas, nuevas características que puede aprovechar después de la migración y la ruta de acceso correcta para la migración de la base de datos.</li>
        <li>Azure Database Migration Service. Migre bases de datos locales a máquinas virtuales de Azure en las que se ejecutan SQL Server, Azure SQL Database o instancias administradas de SQL.</li>
        <li>Azure App Service Migration Assistant. Azure App Service Migration Assistant es una herramienta independiente utilizada para evaluar sitios web locales para la migración a Azure App Service. Use Migration Assistant para migrar aplicaciones web de .NET y PHP a Azure.</li>
        <li>Azure Data Box. Use los productos de Azure Data Box para trasladar grandes cantidades de datos sin conexión a Azure.</li>
    </ol>

    <h3>Azure Data Box</h3>

    <p>
        Azure Data Box es un servicio de migración física que ayuda a transferir grandes cantidades de datos de forma rápida, económica y confiable. La transferencia de datos segura se acelera mediante el envío de un dispositivo de almacenamiento propietario de Data Box que tiene una capacidad de almacenamiento utilizable máxima de 80 terabytes. Data Box se transporta hacia y desde el centro de datos a través de un transportista regional. Una caja resistente asegura y protege Data Box de daños durante el trayecto.

        Puede pedir el dispositivo Data Box a través de Azure Portal para importar o exportar datos desde Azure. Una vez recibido el dispositivo, puede configurarlo rápidamente mediante la interfaz de usuario web local y conectarlo a la red. Una vez que haya terminado de transferir los datos (ya sea dentro o fuera de Azure), simplemente devuelva Data Box. Si va a transferir datos a Azure, los datos se cargan de forma automática una vez que Microsoft vuelve a recibir Data Box. El servicio de Data Box se encarga de realizar el seguimiento de todo el proceso en Azure Portal.
    </p>

    <h3>Casos de uso</h3>
    <p>
        Data Box es ideal para transferir tamaños de datos con más de 40 TB en escenarios sin conectividad de red limitada. El movimiento de datos puede ser único, periódico o una transferencia de datos masiva inicial seguida de transferencias periódicas.

        Estos son los distintos escenarios donde se puede usar Data Box para importar datos en Azure.
    </p>

    <ul>
        <li>Migración única: cuando se mueve gran cantidad de datos locales a Azure.</li>
        <li>Traslade una biblioteca multimedia de cintas sin conexión a Azure para crear una biblioteca multimedia en línea.</li>
        <li>Migre la granja de máquinas virtuales, SQL Server y las aplicaciones a Azure.</li>
        <li>Traslade los datos históricos a Azure para un análisis exhaustivo y generar informes con HDInsight.</li>
        <li>Transferencia masiva inicial: cuando se realiza una transferencia masiva inicial con Data Box (inicialización) seguida de transferencias incrementales a través de la red.</li>
        <li>Cargas periódicas: cuando se genera periódicamente una gran cantidad de datos y es necesario moverlos a Azure.</li>
    </ul>

    <p>Estos son los distintos escenarios donde se puede usar Data Box para exportar datos a Azure.</p>

    <ul>
        <li>Recuperación ante desastres: cuando se restaura una copia de los datos de Azure en una red local. En un escenario de recuperación ante desastres habitual, se exporta una gran cantidad de datos de Azure se exporta a Data Box. Microsoft luego los envía a Data Box y, en poco tiempo, los datos se restauran en un entorno local.</li>
        <li>Requisitos de seguridad: cuando necesita poder exportar datos de Azure debido a los requisitos de seguridad o de la administración pública.</li>
        <li>Migración de vuelta al entorno local o a otro proveedor de servicios en la nube: cuando quiera mover todos los datos de vuelta al entorno local o a otro proveedor de servicios en la nube, exporte los datos a través de Data Box para migrar las cargas de trabajo.</li>
    </ul>

    <p>
        Una vez que los datos del pedido de importación se cargan en Azure, los discos del dispositivo se limpian, según las normas NIST 800-88r1. Si el pedido es de exportación, los discos se borran una vez que el dispositivo llega al centro de datos de Azure.
    </p>

    <h2>Identificación de las opciones de movimiento de archivos de Azure</h2>

    <p>
        Además de la migración a gran escala mediante servicios como Azure Migrate y Azure Data Box, Azure también tiene herramientas diseñadas para ayudarle a mover o interactuar con archivos individuales o grupos de archivos pequeños. Entre esas herramientas se encuentran AzCopy, Explorador de Azure Storage y Azure File Sync.
    </p>

    <h3>AzCopy</h3>

    <p>
        AzCopy es una utilidad de línea de comandos que puede usar para copiar blobs o archivos a una cuenta de almacenamiento o desde una cuenta de almacenamiento. Con AzCopy, puede copiar archivos entre cuentas de almacenamiento, cargarlos, descargarlos e incluso sincronizarlos. AzCopy incluso se puede configurar para trabajar con otros proveedores de nube para ayudar a mover archivos entre nubes.
    </p>

    <pre>
        Importante

        La sincronización de blobs o archivos con AzCopy es una sincronización unidireccional. 
        Al sincronizar, designó el origen y el destino, y AzCopy copiará archivos o blobs en esa dirección. 
        No se sincroniza bidireccionalmente en función de las marcas de tiempo u otros metadatos.
    </pre>

    <h3>Explorador de Azure Storage</h3>

    <p>
        Explorador de Azure Storage es una aplicación independiente que proporciona una interfaz gráfica para administrar archivos y blobs en la cuenta de Azure Storage. Funciona en sistemas operativos Windows, macOS y Linux y usa AzCopy en el back-end para realizar todas las tareas de administración de archivos y blobs. Con Explorador de Storage, puede cargar en Azure, descargar desde Azure o moverse entre cuentas de almacenamiento.
    </p>

    <h3>Azure File Sync</h3>
    <p>
        Azure File Sync es una herramienta que permite centralizar los archivos compartidos en Azure Files y mantener la flexibilidad, el rendimiento y la compatibilidad de un servidor de archivos de Windows. Es casi como convertir el servidor de archivos de Windows en una red de entrega de contenido en miniatura. Una vez que instale Azure File Sync en el servidor local de Windows, se mantendrá sincronizado bidireccionalmente con los archivos en Azure de forma automática.

        Con Azure File Sync, puede:
    </p>

    <ul>
        <li>Usar cualquier protocolo disponible en Windows Server para acceder a sus datos de forma local, como SMB, NFS y FTPS.</li>
        <li>Tener todas las cachés que necesite en todo el mundo.</li>
        <li>Reemplazar un servidor local con errores instalando Azure File Sync en un nuevo servidor del mismo centro de datos.</li>
        <li>Configurar la nube por niveles para que los archivos a los que se accede con más frecuencia se repliquen localmente, mientras que los archivos a los que se accede con poca frecuencia se mantienen en la nube hasta que se soliciten.</li>
    </ul>
    <img src="./img/6/8.PNG" alt="">
</body>
</html>